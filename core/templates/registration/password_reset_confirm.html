{% extends "core/dashboard_base.html" %}

{% block title %}Set New Password{% endblock %}

{% block content %}
<div style="max-width: 400px; margin: 2rem auto; padding: 2rem;">
    <div style="text-align: center; margin-bottom: 2rem;">
        <h1 style="font-size: 2rem; font-weight: bold; margin-bottom: 0.5rem;">Set New Password</h1>
        <p style="color: #6b7280;">Enter your new password below.</p>
    </div>

    <form method="post" class="card">
        {% csrf_token %}

        {% if form.non_field_errors %}
            <div style="margin-bottom: 1.5rem; padding: 1rem; background-color: #fef2f2; border: 1px solid #fecaca; border-radius: 0.375rem;">
                {% for error in form.non_field_errors %}
                    <p style="color: #dc2626; font-size: 0.9rem; margin: 0;">{{ error }}</p>
                {% endfor %}
            </div>
        {% endif %}

        <div style="margin-bottom: 1.5rem;">
            <label for="{{ form.new_password1.id_for_label }}" style="display: block; font-weight: bold; margin-bottom: 0.5rem;">
                New Password
            </label>
            {{ form.new_password1 }}
            {% if form.new_password1.errors %}
                {% for error in form.new_password1.errors %}
                    <p style="color: #dc2626; font-size: 0.9rem; margin-top: 0.25rem;">{{ error }}</p>
                {% endfor %}
            {% endif %}
            <p style="color: #6b7280; font-size: 0.85rem; margin-top: 0.5rem;">
                Your password must contain at least 8 characters.
            </p>
        </div>

        <div style="margin-bottom: 1.5rem;">
            <label for="{{ form.new_password2.id_for_label }}" style="display: block; font-weight: bold; margin-bottom: 0.5rem;">
                Confirm New Password
            </label>
            {{ form.new_password2 }}
            {% if form.new_password2.errors %}
                {% for error in form.new_password2.errors %}
                    <p style="color: #dc2626; font-size: 0.9rem; margin-top: 0.25rem;">{{ error }}</p>
                {% endfor %}
            {% endif %}
            <p style="color: #6b7280; font-size: 0.85rem; margin-top: 0.5rem;">
                Enter the same password as before, for verification.
            </p>
        </div>

        <button type="submit" class="btn-primary" style="width: 100%; padding: 0.75rem; margin-bottom: 1rem;">
            Set New Password
        </button>
    </form>

    <div style="text-align: center;">
        <a href="{% url 'login' %}" style="color: #6b7280; text-decoration: none;">
            ‚Üê Back to Login
        </a>
    </div>
</div>
{% endblock %}